{"is_source_file": true, "format": "JavaScript", "description": "This file defines express-validator middleware functions for validating various API request payloads and parameters in a Node.js backend, including user registration, login, trip creation, booking, vehicle registration, support tickets, trip search, UUID parameters, and validation error handling.", "external_files": ["express-validator"], "external_methods": ["require", "body", "validationResult", "param", "query"], "published": ["validateUserRegistration", "validateUserLogin", "validateTripCreation", "validateBookingCreation", "validateVehicleRegistration", "validateSupportTicket", "validateTripSearch", "validateUUIDParam", "handleValidationErrors", "validateNorwegianId"], "classes": [], "methods": [{"name": "validateNorwegianId", "description": "Validates the Norwegian national ID (11 digits with check digits) using checksum calculations."}, {"name": "validateUserRegistration", "description": "Array of middleware functions validating user registration data, including email, phone number, password, name, date of birth, Norwegian ID, language, and data processing consent."}, {"name": "validateUserLogin", "description": "Array of middleware functions validating login data: email and password."}, {"name": "validateTripCreation", "description": "Array of middleware functions validating trip creation inputs like origin, destination, departure time, price, seats, distance, and duration."}, {"name": "validateBookingCreation", "description": "Array of middleware functions validating booking details: trip ID, seats, pickup/dropoff locations, and payment method."}, {"name": "validateVehicleRegistration", "description": "Array of middleware functions validating vehicle registration info: make, model, year, license plate, seats, and type."}, {"name": "validateSupportTicket", "description": "Array of middleware functions validating support ticket content: subject, description, category, and priority."}, {"name": "validateTripSearch", "description": "Array of middleware functions validating trip search query parameters like origin, destination, date, seats, max price, limit, and offset."}, {"name": "validateUUIDParam", "description": "Function generating validation middleware for UUID parameters."}, {"name": "handleValidationErrors", "description": "Middleware function to handle and respond with validation errors collected by express-validator."}], "calls": ["require('express-validator')", "validationResult(req)"], "search-terms": ["express-validator", "validateNorwegianId", "trip creation", "user registration validation", "validation middleware", "parameter validation", "UUID validation"], "state": 2, "file_id": 16, "knowledge_revision": 33, "git_revision": "", "ctags": [{"_type": "tag", "name": "check1", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^  const check1 = (11 - (sum1 % 11)) % 11;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "check2", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^  const check2 = (11 - (sum2 % 11)) % 11;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "digits", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^  const digits = id.split('').map(Number);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^  const errors = validationResult(req);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleValidationErrors", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^const handleValidationErrors = (req, res, next) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "norwegianPhoneRegex", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^const norwegianPhoneRegex = \\/^(\\\\+47|0047|47)?[4-9]\\\\d{7}$\\/;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "sum1", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^  let sum1 = 0;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "sum2", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^  let sum2 = 0;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "validateBookingCreation", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^const validateBookingCreation = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validateNorwegianId", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^const validateNorwegianId = (id) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validateSupportTicket", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^const validateSupportTicket = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validateTripCreation", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^const validateTripCreation = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validateTripSearch", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^const validateTripSearch = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validateUUIDParam", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^const validateUUIDParam = (paramName) => [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validateUserLogin", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^const validateUserLogin = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validateUserRegistration", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^  validateUserRegistration,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "validateUserRegistration", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^const validateUserRegistration = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validateVehicleRegistration", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^const validateVehicleRegistration = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "weights1", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^  const weights1 = [3, 7, 6, 1, 8, 9, 4, 5, 2];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "weights2", "path": "/home/kavia/workspace/code-generation/nordic-carpool-platform-89320-89331/blablabil_backend/src/middleware/validation.js", "pattern": "/^  const weights2 = [5, 4, 3, 2, 7, 6, 5, 4, 3, 2];$/", "language": "JavaScript", "kind": "constant"}], "hash": "f6f3cbf7ea38dd84c3432cd59a113aac", "format-version": 4, "code-base-name": "blablabil_backend", "filename": "blablabil_backend/src/middleware/validation.js", "fields": [{"name": "let sum1 = 0;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let sum2 = 0;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "validateUserRegistration,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"33": ""}]}